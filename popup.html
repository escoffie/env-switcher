<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=800" />
    <title>URL Tool</title>
    <script defer src="popup.js"></script>
    <link rel="stylesheet" href="tailwind.min.css" />
    <style>
      html,
      body {
        margin: 0;
        padding: 0;
        width: 600px;
      }
    </style>
  </head>
  <body>
    <section
      class="bg-white text-gray-800 p-4 text-sm space-y-4"
    >
      <h1 class="text-xl font-semibold mb-2 border-b pb-2">
        URL Environment Tool
      </h1>

      <!-- URL input -->
      <div class="mb-3">
        <label for="urlInput" class="block mb-1 font-medium">Target URL</label>
        <input
          id="urlInput"
          type="text"
          placeholder="https://cardcritics.com/?..."
          class="w-full p-2 border rounded"
        />
        <p id="urlError" class="text-red-500 text-xs mt-1 hidden">
          Invalid domain.
        </p>
      </div>

      <!-- Ticket ID + Environment in two columns -->
      <div class="flex gap-4 mb-3">
        <!-- Ticket ID -->
        <div class="w-1/2">
          <label for="ticketInput" class="block mb-1 font-medium"
            >Ticket ID</label
          >
          <input
            id="ticketInput"
            type="text"
            placeholder="oo-4160"
            class="w-full p-2 border rounded"
          />
          <p id="ticketError" class="text-red-500 text-xs mt-1 hidden">
            Ticket ID is required for 'Ticket' environment.
          </p>
        </div>

        <!-- Environment dropdown -->
        <div class="w-1/2">
          <label for="envSelect" class="block mb-1 font-medium"
            >Environment</label
          >
          <select id="envSelect" class="w-full p-2 border rounded">
            <option value="">-- Select Environment --</option>
            <option value="production">Production</option>
            <option value="stage">Stage</option>
            <option value="local">Local</option>
            <option value="ticket">Runway</option>
          </select>
        </div>
      </div>

      <!-- Query Params section -->
      <div id="queryParamsSection" class="mb-3 hidden">
        <h2 class="font-medium mb-2">Query Parameters</h2>
        <div id="priorityParams" class="space-y-2"></div>
        <details class="mt-2">
          <summary class="cursor-pointer text-blue-600">
            Other Parameters
          </summary>
          <div id="otherParams" class="space-y-2 mt-2"></div>
        </details>
      </div>

      <!-- Open page -->
      <button
        id="openPageBtn"
        class="mt-4 bg-blue-600 text-white px-4 py-2 rounded w-full disabled:opacity-50"
        disabled
      >
        Open Page
      </button>
    </section>
  </body>
</html>
